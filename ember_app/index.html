<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Ember Starter Kit</title>
  <link rel="stylesheet" href="../shared_css/normalize.css">
  <link rel="stylesheet" href="../shared_css/style.css">
</head>
<body>
   
  <script type="text/x-handlebars">    
    <div id="wrap">    
      <h1>Ticket Tracker Demo: Ember</h1>
      {{outlet}}
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="tickets">
    {{outlet}}
  </script>

  <script type="text/x-handlebars" data-template-name="tickets/index">
    <div>
      <form {{action "addItem" on="submit"}}>
        {{input value=name}}
        {{input value=priority}}
        <button type=submit>Add</button>
      </form>
      <table>
        <tr>
          <th>Task</th>
          <th>Priority</th>
          <th>Tools</th>
        </tr>
        {{#each ticket in controller}}
          <tr>
            <td>
              [{{ticket.abbreviation}}] {{ticket.name}}
            </td>
            <td class='priority'>{{ticket.priority}}</td>
            <td>{{#link-to "tickets.edit" ticket}}Edit{{/link-to}}</td>
          </tr>
        {{/each}}
        <tr class='total'>
          <td colspan='3'>Total Items: 
            {{length}}
          </td>
        </tr>
      </table>
    </div>
  </script>


  <script type="text/x-handlebars" data-template-name="tickets/edit">
    <p>Edit this ticket</p>
    <div id="name">Name: {{input value=name}}</div>
    <div id="name">Priority: {{input value=priority}}</div>
    {{#link-to 'tickets.index'}}Return To List{{/link-to}}
  </script>

  <script src="js/libs/jquery-1.9.1.js"></script>
  <script src="js/libs/handlebars-1.0.0.js"></script>
  <script src="https://cdn.firebase.com/v0/firebase.js"></script>
  <script src="js/libs/ember-1.1.1.js"></script>
  <script src="http://firebase.github.io/emberFire/emberfire-latest.js"></script>

  <script src="js/app.js"></script>

</body>
</html>
